<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Towbook | Cloud Dispatch Platform</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="app-shell">
      <header class="topbar">
        <div class="brand">towbook<span class="brand-cloud">cloud</span></div>
        <nav class="primary-nav">
          <a class="nav-link active" href="#" data-view-target="dashboard">Dashboard</a>
          <a class="nav-link" href="#" data-view-target="dispatching">Dispatching</a>
          <a class="nav-link" href="#" data-view-target="impounds">Impounds</a>
          <a class="nav-link" href="#" data-view-target="accounts">Accounts</a>
          <a class="nav-link" href="#" data-view-target="reports">Reports</a>
          <a class="nav-link" href="#" data-view-target="settings">Settings</a>
        </nav>
        <div class="user-meta">
          <span class="support">Need help? <strong>Contact Towbook Cloud</strong></span>
          <div class="user-info">
            <div class="user-name">Tsedeke Girma</div>
            <div class="user-role">Dispatcher</div>
          </div>
          <div class="user-status">Online</div>
        </div>
      </header>

      <main class="view dashboard-view" data-view="dashboard">
        <section class="welcome-card">
          <div>
            <h1>Good morning, <span>Tsedeke Girma</span>.</h1>
            <p>Welcome to Towbook Cloud! Here's what's happening with your fleet.</p>
          </div>
          <button class="primary-action" id="go-to-dispatch">New Dispatch</button>
        </section>

        <section class="dispatch-overview" aria-labelledby="dispatch-overview-heading">
          <div class="section-heading">
            <h2 id="dispatch-overview-heading">Company Dispatch Overview</h2>
            <div class="meta">Last updated at <span class="update-time">7:52:55 AM</span></div>
          </div>
          <div class="metric-grid" id="status-metrics"></div>
        </section>

        <section class="live-board" id="dashboard-dispatching">
          <header class="section-heading">
            <h2>Live Dispatch Board</h2>
            <div class="controls">
              <label class="filter">
                <span>Status</span>
                <select id="status-filter">
                  <option value="all">All</option>
                  <option value="waiting">Waiting</option>
                  <option value="dispatched">Dispatched</option>
                  <option value="enroute">En Route</option>
                  <option value="onscene">On Scene</option>
                  <option value="towing">Towing</option>
                  <option value="completed">Completed</option>
                  <option value="canceled">Canceled</option>
                </select>
              </label>
              <button class="secondary-action" id="refresh-board">Refresh</button>
            </div>
          </header>
          <div class="board-content">
            <table class="data-table" aria-describedby="dashboard-dispatching">
              <thead>
                <tr>
                  <th>Ticket</th>
                  <th>Customer</th>
                  <th>Vehicle</th>
                  <th>Location</th>
                  <th>Driver</th>
                  <th>Status</th>
                  <th>ETA</th>
                </tr>
              </thead>
              <tbody id="dashboard-dispatch-rows"></tbody>
            </table>
          </div>
        </section>

        <div class="grid-panels">
          <section class="panel" id="impounds">
            <header class="section-heading">
              <h2>Impound Yard Snapshot</h2>
              <a class="link" href="#">View All</a>
            </header>
            <ul class="impound-list" id="impound-list"></ul>
          </section>

          <section class="panel" id="reports">
            <header class="section-heading">
              <h2>Analytics &amp; Reporting</h2>
              <a class="link" href="#">Generate Report</a>
            </header>
            <div class="reports">
              <article class="report-card">
                <h3>Revenue This Month</h3>
                <p class="highlight" id="report-revenue"></p>
                <p class="trend positive">▲ 12% vs last month</p>
              </article>
              <article class="report-card">
                <h3>Average Response Time</h3>
                <p class="highlight" id="report-response"></p>
                <p class="trend negative">▼ 4% vs last week</p>
              </article>
              <article class="report-card">
                <h3>Active Contracts</h3>
                <p class="highlight" id="report-contracts"></p>
                <p class="trend stable">■ No change</p>
              </article>
            </div>
          </section>
        </div>
      </main>

      <main class="view dispatch-view" data-view="dispatching" hidden>
        <section class="dispatch-hero">
          <div>
            <h1>Dispatching Center</h1>
            <p>Coordinate calls, drivers, and customer feedback in real time.</p>
          </div>
          <div class="dispatch-meta" role="status" aria-live="polite">
            <div class="meta-block">
              <span class="meta-label">Shift</span>
              <span class="meta-value">Morning · 7:00a – 3:00p</span>
            </div>
            <div class="meta-block">
              <span class="meta-label">Live Calls</span>
              <span class="meta-value" id="live-call-count">0</span>
            </div>
          </div>
        </section>

        <nav class="dispatch-tabs" role="tablist">
          <button
            class="dispatch-tab active"
            type="button"
            role="tab"
            aria-selected="true"
            data-dispatch-tab="view-calls"
          >
            View Calls
          </button>
          <button
            class="dispatch-tab"
            type="button"
            role="tab"
            aria-selected="false"
            data-dispatch-tab="driver-messaging"
          >
            Driver Messaging
          </button>
          <button
            class="dispatch-tab"
            type="button"
            role="tab"
            aria-selected="false"
            data-dispatch-tab="surveys"
          >
            Surveys
          </button>
        </nav>

        <section class="dispatch-panel" data-dispatch-panel="view-calls">
          <form class="dispatch-filters" id="dispatch-filter-form">
            <div class="form-field">
              <label for="filter-customer">Customer</label>
              <input id="filter-customer" name="customer" type="text" placeholder="Search customer" />
            </div>
            <div class="form-field">
              <label for="filter-vehicle">Vehicle</label>
              <input id="filter-vehicle" name="vehicle" type="text" placeholder="Plate, make or model" />
            </div>
            <div class="form-field">
              <label for="filter-driver">Driver / Dispatcher</label>
              <select id="filter-driver" name="driver">
                <option value="">All personnel</option>
              </select>
            </div>
            <div class="form-field">
              <label for="filter-zone">Zone</label>
              <select id="filter-zone" name="zone">
                <option value="">All zones</option>
              </select>
            </div>
            <div class="form-field date-range">
              <label for="filter-start">Date Range</label>
              <div class="date-inputs">
                <input id="filter-start" name="startDate" type="date" />
                <span aria-hidden="true">to</span>
                <input id="filter-end" name="endDate" type="date" />
              </div>
            </div>
            <div class="form-actions">
              <button type="submit" class="primary-action">Get Results</button>
              <button type="reset" class="secondary-action">Cancel</button>
            </div>
          </form>

          <div class="call-summary" id="call-summary" aria-live="polite"></div>

          <div class="call-sections">
            <article class="call-panel" data-call-section="active">
              <header class="panel-header">
                <h2>Active Calls</h2>
                <span class="badge" data-call-count="active">0</span>
              </header>
              <table class="data-table">
                <thead>
                  <tr>
                    <th>Call #</th>
                    <th>Customer</th>
                    <th>Vehicle</th>
                    <th>Zone</th>
                    <th>Driver</th>
                    <th>Dispatcher</th>
                    <th>Opened</th>
                    <th>Status</th>
                    <th>ETA</th>
                  </tr>
                </thead>
                <tbody data-call-body="active"></tbody>
              </table>
            </article>

            <article class="call-panel" data-call-section="canceled">
              <header class="panel-header">
                <h2>Canceled</h2>
                <span class="badge" data-call-count="canceled">0</span>
              </header>
              <table class="data-table">
                <thead>
                  <tr>
                    <th>Call #</th>
                    <th>Customer</th>
                    <th>Reason</th>
                    <th>Dispatcher</th>
                    <th>Updated</th>
                  </tr>
                </thead>
                <tbody data-call-body="canceled"></tbody>
              </table>
            </article>

            <article class="call-panel" data-call-section="queued">
              <header class="panel-header">
                <h2>Queued</h2>
                <span class="badge" data-call-count="queued">0</span>
              </header>
              <table class="data-table">
                <thead>
                  <tr>
                    <th>Call #</th>
                    <th>Customer</th>
                    <th>Vehicle</th>
                    <th>Requested</th>
                    <th>Scheduled</th>
                    <th>Zone</th>
                    <th>Notes</th>
                  </tr>
                </thead>
                <tbody data-call-body="queued"></tbody>
              </table>
            </article>
          </div>
        </section>

        <section class="dispatch-panel" data-dispatch-panel="driver-messaging" hidden>
          <div class="messaging-layout">
            <aside class="messaging-roster" id="messaging-roster" role="tablist"></aside>
            <div class="messaging-thread" role="tabpanel">
              <header class="thread-header">
                <div class="thread-title" id="active-thread-name">Select a driver</div>
                <div class="thread-status" id="active-thread-status"></div>
              </header>
              <div class="message-log" id="message-log" aria-live="polite"></div>
              <form id="message-form" class="message-form">
                <label class="sr-only" for="message-input">Message</label>
                <textarea
                  id="message-input"
                  name="message"
                  rows="2"
                  placeholder="Type a message to the selected driver..."
                  required
                ></textarea>
                <div class="form-actions">
                  <button type="submit" class="primary-action">Send</button>
                  <button type="button" class="secondary-action" id="mark-thread-read">Mark as Read</button>
                </div>
              </form>
            </div>
          </div>
        </section>

        <section class="dispatch-panel" data-dispatch-panel="surveys" hidden>
          <form class="survey-filters" id="survey-filter-form">
            <div class="form-field">
              <label for="survey-category">Category</label>
              <select id="survey-category" name="category">
                <option value="all">All categories</option>
                <option value="customer">Customer</option>
                <option value="driver">Driver</option>
                <option value="vendor">Vendor</option>
              </select>
            </div>
            <div class="form-field">
              <label for="survey-status">Status</label>
              <select id="survey-status" name="status">
                <option value="all">All statuses</option>
                <option value="active">Active</option>
                <option value="scheduled">Scheduled</option>
                <option value="paused">Paused</option>
              </select>
            </div>
            <div class="form-field">
              <label for="survey-search">Keyword</label>
              <input id="survey-search" name="search" type="search" placeholder="Search surveys" />
            </div>
            <div class="form-actions">
              <button type="submit" class="primary-action">Apply Filters</button>
              <button type="reset" class="secondary-action">Clear</button>
            </div>
          </form>
          <div class="survey-list" id="survey-list" role="list"></div>
        </section>
      </main>

      <main class="view impound-view" data-view="impounds" hidden>
        <section class="impound-header">
          <div>
            <h1>Impound Management</h1>
            <p>Monitor yard inventory, manage holds, and register new impounds.</p>
          </div>
          <div class="impound-header-actions">
            <button class="primary-action" id="new-impound-button">New Impound</button>
          </div>
        </section>

        <div class="impound-alert" id="impound-alert" role="status" hidden></div>

        <section class="impound-inventory">
          <header class="section-heading">
            <h2 id="impound-inventory-heading">Current Inventory</h2>
            <div class="impound-tools">
              <label class="sr-only" for="impound-search">Search impounds</label>
              <input
                id="impound-search"
                class="impound-search"
                type="search"
                placeholder="Search impound number, owner, or vehicle"
              />
            </div>
          </header>
          <div class="inventory-table">
            <table class="data-table" aria-labelledby="impound-inventory-heading">
              <thead>
                <tr>
                  <th scope="col">Impound #</th>
                  <th scope="col">Vehicle</th>
                  <th scope="col">Owner</th>
                  <th scope="col">Reason</th>
                  <th scope="col">Priority</th>
                  <th scope="col">Release</th>
                  <th scope="col">Status</th>
                </tr>
              </thead>
              <tbody id="impound-table-body"></tbody>
            </table>
            <p class="empty" data-impound-empty hidden>No impounds registered yet.</p>
          </div>
        </section>
      </main>

      <footer class="footer">
        <div>© 2024 Towbook Cloud. All rights reserved.</div>
        <div class="footer-links">
          <a href="#">Status</a>
          <a href="#">Privacy</a>
          <a href="#">Support</a>
        </div>
      </footer>
    </div>

    <div class="impound-modal" id="new-impound-modal" hidden>
      <div class="impound-modal__backdrop" data-close-impound></div>
      <div class="impound-dialog" role="dialog" aria-modal="true" aria-labelledby="new-impound-title">
        <header class="impound-dialog__header">
          <div class="impound-dialog__title">
            <p class="impound-dialog__meta">User Editing: <strong>Tsedeke Girma</strong></p>
            <h2 id="new-impound-title">New Impound</h2>
          </div>
          <button type="button" class="icon-button" data-close-impound aria-label="Close new impound form">
            ✕
          </button>
        </header>
        <form class="impound-form" id="impound-form">
          <div class="impound-dialog__body">
            <div class="segmented-control" role="group" aria-label="Call type">
              <button type="button" class="segmented-control__option is-active" data-impound-mode="new">New Call</button>
              <button type="button" class="segmented-control__option" data-impound-mode="completed">Completed Call</button>
              <button type="button" class="segmented-control__option" data-impound-mode="scheduled">Schedule a Call</button>
              <button type="button" class="segmented-control__option" data-impound-mode="quote">Quote</button>
            </div>

            <section class="impound-form-section">
              <header class="impound-form-section__header">
                <h3>Call Information</h3>
                <div class="impound-form-section__meta">Account · Contact · Logistics</div>
              </header>
              <div class="impound-form-grid">
                <label class="form-field" for="impound-account">
                  Account
                  <input id="impound-account" name="account" type="text" placeholder="Select or enter account" />
                </label>
                <label class="form-field" for="impound-contact-name">
                  Contact name
                  <input id="impound-contact-name" name="contactName" type="text" placeholder="Name on scene" />
                </label>
                <label class="form-field" for="impound-contact-phone">
                  Phone number
                  <input id="impound-contact-phone" name="contactPhone" type="tel" placeholder="(000) 000-0000" />
                </label>
                <label class="form-field" for="impound-number">
                  Impound #
                  <input id="impound-number" name="impoundNumber" type="text" placeholder="INV-0000" />
                </label>
                <label class="form-field span-2" for="impound-pickup">
                  Pickup location
                  <input id="impound-pickup" name="pickupLocation" type="text" placeholder="Property, cross streets, or GPS" />
                </label>
                <label class="form-field" for="impound-destination">
                  Destination
                  <select id="impound-destination" name="destination">
                    <option value="usp-holding">USP Holding</option>
                    <option value="north-yard">North Yard</option>
                    <option value="east-lot">East Lot</option>
                    <option value="central-storage">Central Storage</option>
                  </select>
                </label>
                <label class="form-field" for="impound-reason">
                  Impound reason
                  <select id="impound-reason" name="impoundReason">
                    <option value="police-hold">Police Hold</option>
                    <option value="private-property">Private Property</option>
                    <option value="abandoned">Abandoned Vehicle</option>
                    <option value="tow-away">Tow Away Zone</option>
                    <option value="evidence">Evidence</option>
                  </select>
                </label>
                <label class="form-field" for="impound-invoice">
                  Invoice #
                  <input id="impound-invoice" name="invoiceNumber" type="text" placeholder="Automatically generated if left blank" />
                </label>
                <label class="form-field" for="impound-eta">
                  ETA
                  <input id="impound-eta" name="eta" type="text" placeholder="e.g., 30 min" />
                </label>
                <label class="form-field" for="impound-priority">
                  Priority
                  <select id="impound-priority" name="priority">
                    <option value="Normal">Normal</option>
                    <option value="High">High</option>
                    <option value="Emergency">Emergency</option>
                  </select>
                </label>
                <div class="form-field form-field--inline">
                  <span>Emergency</span>
                  <label class="checkbox-field" for="impound-emergency">
                    <input id="impound-emergency" name="isEmergency" type="checkbox" value="yes" />
                    <span>Mark as emergency</span>
                  </label>
                </div>
                <label class="form-field span-2" for="impound-notes">
                  Incident notes
                  <textarea
                    id="impound-notes"
                    name="notes"
                    rows="3"
                    placeholder="Damage, instructions, or incident details"
                  ></textarea>
                </label>
              </div>
            </section>

            <section class="impound-form-section">
              <header class="impound-form-section__header">
                <h3>Vehicle Information</h3>
                <div class="impound-form-section__meta">Vehicle, owner, keys, and condition</div>
              </header>
              <div class="impound-form-grid">
                <label class="form-field" for="vehicle-license">
                  License/VIN
                  <input id="vehicle-license" name="license" type="text" placeholder="Plate or VIN" />
                </label>
                <label class="form-field" for="vehicle-state">
                  State
                  <select id="vehicle-state" name="state">
                    <option value="MI">MI</option>
                    <option value="IL">IL</option>
                    <option value="OH">OH</option>
                    <option value="WI">WI</option>
                    <option value="IN">IN</option>
                  </select>
                </label>
                <label class="form-field" for="vehicle-year">
                  Year
                  <input id="vehicle-year" name="vehicleYear" type="number" min="1950" max="2099" placeholder="2022" />
                </label>
                <label class="form-field" for="vehicle-make">
                  Make
                  <input id="vehicle-make" name="vehicleMake" type="text" placeholder="Ford" />
                </label>
                <label class="form-field" for="vehicle-model">
                  Model
                  <input id="vehicle-model" name="vehicleModel" type="text" placeholder="Explorer" />
                </label>
                <label class="form-field" for="vehicle-color">
                  Color
                  <input id="vehicle-color" name="vehicleColor" type="text" placeholder="Blue" />
                </label>
                <label class="form-field" for="vehicle-type">
                  Vehicle type
                  <select id="vehicle-type" name="vehicleType">
                    <option value="Light">Light Duty</option>
                    <option value="Medium">Medium Duty</option>
                    <option value="Heavy">Heavy Duty</option>
                  </select>
                </label>
                <label class="form-field" for="vehicle-drive">
                  Drive condition
                  <select id="vehicle-drive" name="driveCondition">
                    <option value="drivable">Drivable</option>
                    <option value="inoperable">Inoperable</option>
                    <option value="unknown">Unknown</option>
                  </select>
                </label>
                <label class="form-field" for="vehicle-owner">
                  Owner
                  <input id="vehicle-owner" name="ownerName" type="text" placeholder="Registered owner" />
                </label>
                <label class="form-field" for="vehicle-owner-phone">
                  Owner phone
                  <input id="vehicle-owner-phone" name="ownerPhone" type="tel" placeholder="(000) 000-0000" />
                </label>
                <div class="form-field form-field--inline">
                  <span>Keys</span>
                  <label class="checkbox-field" for="vehicle-has-keys">
                    <input id="vehicle-has-keys" name="hasKeys" type="checkbox" value="yes" />
                    <span>Keys received</span>
                  </label>
                </div>
                <label class="form-field" for="vehicle-location">
                  Yard location
                  <input id="vehicle-location" name="yardLocation" type="text" placeholder="Row, lot, or zone" />
                </label>
                <label class="form-field" for="release-status">
                  Release status
                  <div class="radio-field" id="release-status">
                    <label>
                      <input type="radio" name="releaseStatus" value="Pending Release" checked />
                      Pending release
                    </label>
                    <label>
                      <input type="radio" name="releaseStatus" value="Ready for release" />
                      Ready for release
                    </label>
                  </div>
                </label>
                <label class="form-field span-2" for="vehicle-notes">
                  Vehicle notes
                  <textarea
                    id="vehicle-notes"
                    name="vehicleNotes"
                    rows="3"
                    placeholder="Damage, inventory, or officer notes"
                  ></textarea>
                </label>
              </div>
            </section>
          </div>

          <footer class="impound-dialog__footer">
            <div class="impound-dialog__footer-meta">
              <div class="checkbox-field">
                <input id="impound-send-sms" name="sendSms" type="checkbox" value="yes" />
                <label for="impound-send-sms">Send SMS confirmation to owner</label>
              </div>
              <div id="impound-form-feedback" class="impound-form-feedback" role="status" aria-live="polite"></div>
            </div>
            <div class="impound-dialog__footer-actions">
              <button type="button" class="secondary-action" data-close-impound>Cancel</button>
              <button type="submit" class="primary-action">Create Impound</button>
            </div>
          </footer>
        </form>
      </div>
    </div>

    <script src="script.js" type="module"></script>
  </body>
</html>
